(this.webpackJsonpweathernew=this.webpackJsonpweathernew||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),i=(a(27),a(17)),s=a(3),u=a.n(s),l=a(8),m=a(6),f=(a(29),a(12));var v=function(e){return c.a.createElement("div",{className:"header-parnet"},c.a.createElement(f.b,{to:"/"},"home"),c.a.createElement("br",null),c.a.createElement(f.b,{to:"/favorites"},"favorites"))};var p=function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),r=(a[0],a[1]),o=Object(n.useState)([]),i=Object(m.a)(o,2),s=i[0],f=i[1],v=Object(n.useState)(""),p=Object(m.a)(v,2),h=p[0],d=p[1],E=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],""===h){e.next=12;break}return e.next=4,fetch("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=I1gKf7FcF8vPxXNbNDNSlBK6mvmSSjWC&q=".concat(h));case 4:return a=e.sent,e.next=7,a.json();case 7:e.sent.map((function(e){return t.push(e.LocalizedName)})),f(t),e.next=13;break;case 12:f([]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){E()}),[h]);var b=function(){var t=Object(l.a)(u.a.mark((function t(a){var n,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(a),e.loadweather(a),t.next=4,fetch("http://dataservice.accuweather.com/locations/v1/cities/search?apikey=".concat("I1gKf7FcF8vPxXNbNDNSlBK6mvmSSjWC","&q=").concat(a));case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,o=c[0].Key,e.getDaily(o),r(!1),f([]);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"form"},c.a.createElement("input",{className:"auto",onClick:function(){return r(!0)},placeholder:"Type to search",value:h,name:"city",onChange:function(e){var t=e.target.value;/[^A-Za-z]/gi.test(t)&&alert("only english letters"),t=t.replace(/[^A-Za-z]/gi,""),d(t)}}),c.a.createElement("div",null,s.map((function(e,t){return c.a.createElement("div",{onClick:function(){return b(e)},className:"option",key:t,tabIndex:"0"},c.a.createElement("span",null,e))}))),")")))};var h=function(e){var t;return c.a.createElement("div",{className:"daily-item"},c.a.createElement("h3",null,e.date),c.a.createElement("h2",null,(t=e.temp,Math.floor(5/9*(t-32))),"\xb0"))};var d=function(e){Object(n.useEffect)((function(){console.log("getweater"),t()}));var t=function(){var t=Object(l.a)(u.a.mark((function t(){var a,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.city_key.toString(),t.next=3,fetch("http://dataservice.accuweather.com/currentconditions/v1/".concat(a,"?apikey=").concat("I1gKf7FcF8vPxXNbNDNSlBK6mvmSSjWC"));case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,e.changeTemp(c[0].Temperature.Metric.Value,c[0].WeatherText,c[0].WeatherIcon);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"weathr-parnet"},c.a.createElement(v,null),c.a.createElement("h1",null,"Cities Forecast"),c.a.createElement(p,{loadweather:e.getKey,getDaily:e.getDaily,isFavorites:e.isFavorites}),c.a.createElement("div",{className:"weather"},c.a.createElement("span",null,e.icon),c.a.createElement("h1",null,e.city),c.a.createElement("h2",null,e.temp,"\xb0"),c.a.createElement("h2",null,e.text)),c.a.createElement("button",{onClick:function(){return e.addFavorites()}},"  ",e.isFavorites?"remove from favoriets":"add to favoriets "),c.a.createElement("h1",null,"5 day forecast"),c.a.createElement("div",{className:"daily-parnt"},e.week.map((function(e,t){return c.a.createElement(h,{date:e.date,temp:e.temp,key:t})}))))},E=a(1);var b=function(e){return c.a.createElement("div",{className:"favorites"},c.a.createElement("div",{className:"favorites-header"},c.a.createElement(v,null)),c.a.createElement("div",{className:"favorites-weathr"},e.favorites.map((function(e){return c.a.createElement("div",{className:"weather"},c.a.createElement("h1",null,e.city),c.a.createElement("h1",null,e.temp,"\xb0"))}))))};var j=function(){var e=Object(n.useState)("Tel Aviv"),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)("215854"),s=Object(m.a)(o,2),v=s[0],p=s[1],h=Object(n.useState)(""),j=Object(m.a)(h,2),y=j[0],w=j[1],O=Object(n.useState)(""),x=Object(m.a)(O,2),N=x[0],g=x[1],S=Object(n.useState)([]),k=Object(m.a)(S,2),F=k[0],K=k[1],D=Object(n.useState)([]),C=Object(m.a)(D,2),W=C[0],I=C[1],B=Object(n.useState)(!1),T=Object(m.a)(B,2),P=T[0],X=T[1],A=Object(n.useState)(""),M=Object(m.a)(A,2),q=M[0],z=M[1];Object(n.useEffect)((function(){Z("215854")}),[]),Object(n.useEffect)((function(){console.log("f"),X(W.some((function(e){return e.city.includes(a)}))),z(P?"**F**":"")}));var J=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,fetch("http://dataservice.accuweather.com/locations/v1/cities/search?apikey=".concat("I1gKf7FcF8vPxXNbNDNSlBK6mvmSSjWC","&q=").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,p(c[0].Key),r(c[0].EnglishName);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e,t){w(e),g(t)},Z=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("I1gKf7FcF8vPxXNbNDNSlBK6mvmSSjWC"));case 2:return a=e.sent,e.next=5,a.json();case 5:for(n=e.sent,c=[],r=0;r<5;r++)c=[].concat(Object(i.a)(c),[{date:n.DailyForecasts[r].Date.substring(0,10),temp:n.DailyForecasts[r].Temperature.Maximum.Value}]);K(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){I(P?W.filter((function(e){return e.city!==a})):[].concat(Object(i.a)(W),[{id:v,city:a,temp:y}]))};return c.a.createElement("div",{className:"App"},c.a.createElement(f.a,null,c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/",render:function(e){return c.a.createElement(d,{city:a,city_key:v,temp:y,text:N,changeTemp:V,addFavorites:_,isFavorites:P,getKey:J,getDaily:Z,week:F,icon:q})}}),c.a.createElement(E.a,{exact:!0,path:"/favorites",render:function(e){return c.a.createElement(b,{favorites:W})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.f7dc5228.chunk.js.map